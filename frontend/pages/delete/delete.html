<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../styles/global.css">
    <title>delete page</title>
</head>
<body>
    <header>
        <h1>BarberIsa</h1>
        <nav>
            <ul class="nav-list">
                <li class="li-header"><a href="../index/index.html">index</a></li>
                <li class="li-header"><a href="../create/create.html">create</a></li>
                <li class="li-header"><a href="../delete/delete.html">delete</a></li>
                <li class="li-header"><a href="../put/put.html">put</a></li>
                <li class="li-header"><a href="../patch/patch.html">patch</a></li>
            </ul>
        </nav>
    </header>

    <form id="form-delete">
        <label for="delete-id">ID:</label>
        <input id="delete-id" type="text" name="delete-id">
        <!-- <button type="submit">Apagar</button> -->
        <button id="envio" type="button">Apagar</button>
    </form>

    <script>
        var form = document.getElementById('delete-id')
        var button = document.getElementById('envio')

        button.addEventListener('click', (e)=>{
            id = form.value
            console.log(id);
            fetch(`http://localhost:1264/customers/`+ id, {
                method:'DELETE',
                redirect: 'manual',
                headers:{
                    "Content-Type":'application/json'
                },
            }).then(response => response.json()).then(body=>console.log(body))
        })

        // form.addEventListener('submit', (e)=>{
        //     e.preventDefault()

        //     let data = {}
        //     let formData = new FormData(e.target)
        //     console.log(data);
        //     formData.forEach((value, key)=>{
        //         data[key] = value
        //     })
        //     // fetch(`http://localhost:1264/customers/`+ data.id, {
        //     //     method:'DELETE',
        //     //     redirect: 'manual',
        //     //     headers:{
        //     //         "Content-Type":'application/json'
        //     //     },
        //     // }).then(response => response.json()).then(body=>console.log(body))
        // })
    </script>
</body>
</html>